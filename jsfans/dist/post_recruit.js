define("test/post_recruit",["jquery","common","kditor"],function(a,t,e){"user strict";var i=a("jquery"),c=(a("layer"),a("common")),r=(a("kditor"),{});r.init=function(){var a,t=[],e=i(".createScope");KindEditor.ready(function(t){a=t.create('textarea[name="content"]',{basePath:homeUrl+"static/js/module/",themesPath:"../static/js/module/kditor/",langType:"../kditor/lang/zh_CN",resizeType:1,allowPreviewEmoticons:!1,allowImageUpload:!1,items:[]})}),e.on({click:function(){var a=i(this).find("img").attr("src"),c=i(this).attr("id");if(e.find(".Li_draggable").removeClass("activer"),i(this).addClass("activer"),!e.find(".pageCreatNum p").hasClass("activer"))return!1;e.find(".pageCreatNum p.activer").attr("data-id",c),e.find(".pageCreatNum p.activer").attr("data-image",a);var s=parseInt(e.find(".pageCreatNum p.activer").attr("data-tid"));1==s?r.Oneclick(e,a):2==s?r.Twoclick(e,a):3==s&&r.Threeclick(e,a),e.find(".pageCreatNum p").each(function(a){t[a]=i(this).attr("data-id")}),i("#templateid").val(t)}},".Li_draggable"),e.on({click:function(){var a=i(this),t=["一","二","三"],c=i(".pageCreatNum p").length,r='<p class="activer" data-tid="'+(c+1)+'" data-id="0" data-image=""><a href="javascript:;" class="pageIc" >第'+t[c]+'屏</a><a href="javascript:;" class="trash_Icon"></a></p>';a.parent(".add_pagedrage").prev().find("p").removeClass("activer"),i(".pageCreatNum").append(r),e.find(".compText").html(""),e.find(".Li_draggable").removeClass("activer"),c++,c>2&&a.parent(".add_pagedrage").remove()}},".add_pagedrage .pageIc"),e.on({click:function(){e.find(".pageCreatNum p").removeClass("activer"),i(this).parent("p").addClass("activer");var a=(i(this).parent().attr("data-id"),i(this).parent().attr("data-image")),t=parseInt(i(this).parent().attr("data-tid"));e.find(".Li_draggable").removeClass("activer"),""!==a?1==t?r.Oneclick(e,a):2==t?r.Twoclick(e,a):3==t&&r.Threeclick(e,a):e.find(".compText").html("")}},".pageCreatNum .pageIc"),e.on({click:function(){var a=i(this).parent("p").attr("data-id");""==a?c.showmsg("背景还没添加哦！"):(e.find(".compText").html(""),i(this).parent("p").attr("data-id",""),i(this).parent("p").attr("data-image",""),e.find(".pageCreatNum p").each(function(a){t[a]=i(this).attr("data-id")}),i("#templateid").val(t))}},".trash_Icon")},r.Oneclick=function(a,t){var e=i("#title").val(),c='<div class="compRizeOne"><img src="'+t+'"><div class="comOne"><p class="logo"><img src="'+config.fans_logo+'"></p><p class="ruit-name">'+config.fans_name+'</p><p class="ruit-title"><img src="/static/images/wap/titleBG_rec.png"><span>'+e+'</span></p><p class="ruit-join">加入</p></div></div>';a.find(".compText").html(c)},r.Twoclick=function(a,t){var e=[];i(".malCod").each(function(a){i(this).is(":checked")&&e.push(i(this).parent().next().text())});var c='<div class="compRizeTwo">';c+='<img src="'+t+'">',c+='<div class="Twotable">',c+='<p class="tow-name">欢迎加入<br />'+config.fans_name+"</p>",c+='<div class="comTwo">';for(var r=0;r<e.length;r++)c+='<p class="Twoinput"><label>'+e[r]+'</label><input type="text" name="name" value=""></p>';c+="</div>",c+="</div>",c+='<p class="two-submit">提交</p>',c+="</div>",a.find(".compText").html(c)},r.Threeclick=function(a,t){var e='<div class="compRizeThree"><img src="'+t+'"><div class="comThree"><p class="ster">恭喜您申请成功！</p><p class="follow">关注“'+config.fans_name+'”服务号第一时间接收球迷会通知</p><p class="code"><img src="/static/images/app_code.png"></p></div></div>';a.find(".compText").html(e)},e.exports=r});