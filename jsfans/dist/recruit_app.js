define("test/mobile/recruit_app",["jquery","common","mobtime","js/module/mobtime/mobtime.css","http://res.wx.qq.com/open/js/jweixin-1.0.0.js"],function(e){"user strict";var t=e("jquery"),r=e("common"),n=(e("mobtime"),e("http://res.wx.qq.com/open/js/jweixin-1.0.0.js"));e("test/module/mobiscroll.2.13.2.css");var i=encodeURIComponent(urls);if(t("#birthday").length){var a=((new Date).getFullYear(),{"default":{theme:"default",mode:"scroller",display:"modal",animate:"fade",endYear:"2030"},dateYMD:{preset:"date",dateFormat:"yyyy-mm-dd",defaultValue:new Date(new Date),invalid:{daysOfWeek:[0,6],daysOfMonth:["5/1","12/24","12/25"]}}});t("#birthday").scroller(t.extend(a.dateYMD,a["default"]))}t(".rectInput").length&&t(".rectScroll .rectInput").click(function(e){var e=t(this).index(".rectInput"),r=t(".rectInput").eq(e-1).outerHeight()+8;setTimeout(function(){t(".rectScroll").scrollTop(e*r)},500)}),t("#rectTJ").click(function(){for(var e=t(".rectScroll").find(".inputS").length,n=t(".rectScroll").find(".inputS"),i=0;e>i;i++){var a=n.eq(i).val();if(""==a||null==a)return r.showmsg("亲，带*号为必填项哦！请先完善","",1e3),!1}for(var s=t(".rectScroll").find(".textSet").length,c=t(".rectScroll").find(".textSet"),i=0;s>i;i++){var l=c.eq(i).data("name"),d=parseInt(c.eq(i).attr("minlength")),u=parseInt(c.eq(i).attr("maxlength")),f=c.eq(i).find("input").val(),m=o.CheckLength(f);if(c.eq(i).find(".c-red").length){if(""==f)return r.showmsg("亲，带*号为必填项哦！请先完善","",1e3),!1;if(d>m||m>u)return r.showmsg("亲，【"+l+"】最多输入"+u+"个字符哦","",1e3),!1}else if(m>u>0)return r.showmsg("亲，【"+l+"】最多输入"+u+"个字符哦","",1e3),!1}for(var h=t(".rectScroll").find(".option_mouse").length,g=t(".rectScroll").find(".option_mouse"),i=0;h>i;i++){var p=g.eq(i).data("name"),w=parseInt(g.eq(i).attr("minlength")),q=parseInt(g.eq(i).attr("maxlength")),v=g.eq(i).find("textarea").val(),m=o.CheckLength(v);if(g.eq(i).find(".c-red").length){if(""==v)return r.showmsg("亲，带*号为必填项哦！请先完善","",1e3),!1;if(w>m||m>q)return r.showmsg("亲，【"+p+"】最多输入"+q+"个字符哦","",1e3),!1}else if(m>q>0)return r.showmsg("亲，【"+p+"】最多输入"+q+"个字符哦","",1e3),!1}for(var S=t(".rectScroll").find(".option_radio").length,x=t(".rectScroll").find(".option_radio"),i=0;S>i;i++){x.eq(i).data("name");if(x.eq(i).find(".c-red").length&&!x.eq(i).find("input").is(":checked"))return r.showmsg("亲，带*号为必填项哦！请先完善","",1e3),!1}for(var y=t(".rectScroll").find(".option_select").length,j=t(".rectScroll").find(".option_select"),i=0;y>i;i++){var I=j.eq(i).data("name"),b=parseInt(j.eq(i).attr("minlength")),k=parseInt(j.eq(i).attr("maxlength")),M=(j.eq(i).find(":checkbox").size(),j.eq(i).find(":checkbox:checked").size());if(j.eq(i).find(".c-red").length){if(0==M)return r.showmsg("亲，带*号为必填项哦！请先完善","",1e3),!1;if(b>M)return r.showmsg("亲，【"+I+"】最少选择"+b+"项哦","",1e3),!1;if(M>k)return r.showmsg("亲，【"+I+"】最多选择"+k+"项哦","",1e3),!1}else if(0!==M&&(M>k||b>M))return r.showmsg("亲，【"+I+"】最少选"+b+"项最多选"+k+"项哦!","",1e3),!1}var T=t("#tid").val();t.ajax({type:"POST",url:homeUrl+"misc/recruit_apply",data:t("#formRecruit").serialize(),cache:!1,dataType:"json",success:function(e){return 200!==e.code?(r.showmsg(e.message,"",1e3),!1):void(window.location.href=homeUrl+"recruit?id="+T+"&step="+e.data.step+"&gender="+e.data.gender+"&mobile="+e.data.mobile+"&openid="+openid)}})});var o={};o.CheckLength=function(e){var t,r;for(r=0,t=0;t<e.length;t++)r+=(e.charCodeAt(t)>0&&e.charCodeAt(t)<=255,1);return r},window.navigator.userAgent.toLowerCase().indexOf("micromessenger")&&(t.ajax({type:"GET",url:"http://wx.5usport.com/Jsapisign",data:{signurl:i},dataType:"json",success:function(e){n.config({debug:!1,appId:e.appid,timestamp:e.timestamp,nonceStr:e.noncestr,signature:e.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage"]})},error:function(){showmsg("数据有误","",1e3)}}),n.ready(function(){n.showOptionMenu(),n.onMenuShareAppMessage({title:shareTitle,desc:shareDescription,link:shareUrl,imgUrl:shareImage,trigger:function(e){},success:function(e){},cancel:function(e){},fail:function(e){}}),n.onMenuShareTimeline({title:shareTitle,link:shareUrl,imgUrl:shareImage,trigger:function(e){},success:function(e){},cancel:function(e){},fail:function(e){}})}),n.error(function(e){alert(e.errMsg)}))});