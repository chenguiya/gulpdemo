define("js/ci_betgues",["jquery","echart"],function(e){"user strict";function t(e,t){var a="fwin_"+e,n=document.getElementById(a);n=document.createElement("div"),n.id=a,n.className="BetPopupTX",document.getElementById("append_parent").appendChild(n),evtspan=" onclick=\"hideWindow('"+e+"')\"";var s='<div class="TX_container">';s+='<div class="tion_title"><a href="javascript:void(0);"'+evtspan+' class="icon-nots"></a></div>',s+='<div class="TX_area">'+t+"</div>",s+="</div>",s+="</div>",n.innerHTML=s}function a(e,t,a){var n="fwin_"+e,s=document.getElementById(n);s=document.createElement("div"),s.id=n,s.className="BetPopup",document.getElementById("append_parent").appendChild(s),evtspan=" onclick=\"hideWindow('"+e+"')\"";var i='<div class="tion_container">';i+='<div class="tion_title"><span></span><a href="javascript:void(0);"'+evtspan+' class="icon-nots"></a></div>',i+='<div class="tion_area">',i+='<div class="tion_statue cl">',i+='<div class="tionLeft">                         <p class="Img"><img src="'+dataVal.zhulogo+'" width="100%"></p>                         <p class="Name">'+dataVal.zhuname+"</p>",i+=3==t?'<p class="Btn cuphover">主胜 '+dataVal.zhudiscount+"</p>":'<p class="Btn">主胜 '+dataVal.zhudiscount+"</p>",i+='</div>                    <div class="tionCenter">                         <p class="cName">'+dataVal.leguename+'<span>VS</span></p>                         <p class="Time">'+dataVal.datatime+'</p>                         <p class="Hand">亚盘<span>'+dataVal.pakou+'</span></p>                    </div>                    <div class="tionLeft">                         <p class="Img"><img src="'+dataVal.kelogo+'" width="100%"></p>                         <p class="Name">'+dataVal.kename+"</p>",i+=0==t?'<p class="Btn cuphover">客胜 '+dataVal.kediscount+"</p>":'<p class="Btn">客胜 '+dataVal.kediscount+"</p>",i+="</div>",i+="</div>",3==t?i+='<div class="tionNext">已投注：<span>主胜  金币'+a+"</span></div>":0==t&&(i+='<div class="tionNext">已投注：<span>客胜  金币'+a+"</span></div>"),i+="</div>",i+='<div class="icon-ok tionOk">成功下注</div>',i+="</div>",s.innerHTML=i}function n(e){var t="fwin_"+e,a=document.getElementById(t);a=document.createElement("div"),a.id=t,a.className="bet-popBox",document.getElementById("append_parent").appendChild(a),evtspan=" onclick=\"hideWindow('"+e+"')\"";var n='<div class="bet-boxMain">';n+='<div class="popClosed"><a href="javascript:void(0);"'+evtspan+' class="icon-nots"></a></div>',n+='<div class="bet-ok"><div><i class="icon-result"></i>成功下注</div><a href="http://app.5usport.com/wap.html">开奖结果请下载“5U球迷联盟”APP查看</a></div>',n+="</div>",n+="</div>",a.innerHTML=n}var s=e("jquery"),i=(e("echart"),document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight);if(s("#singIndexMod").length){s("#singIndexMod").height(i);var l=echarts.init(document.getElementById("main")),d={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},calculable:!1,color:[dataJson.colorO,dataJson.colorT],series:[{name:"访问来源",type:"pie",radius:["30%","60%"],center:["48%","50%"],startAngle:320,data:[{value:dataJson.keValue,name:dataJson.keName,itemStyle:{normal:{labelLine:{length:5}}}},{value:dataJson.zhuValue,name:dataJson.zhuName,itemStyle:{normal:{labelLine:{length:5}}}}]}]};l.setOption(d)}if(document.getElementById("Cetloading")){var o=2,c=!0,r=parseInt(s("#Cetloading").attr("pagesize")),u=parseInt(s("#Cetloading").attr("totalpage"));s(window).scroll(function(){s(document).height()-s(this).scrollTop()-s(this).height()<200&&document.getElementById("Cetloading")&&(c=!0,document.getElementById("Cetloading").style.display="block",setTimeout(function(){c&&s.ajax({type:"GET",url:cid_url+"/api/guess/guess_center",data:{pagesize:r,currpage:o,totalpage:u,token:token},dataType:"html",success:function(e){s("#guessCenter").append(s(e).find(".guess_box")),o++,o==u+1&&s("#Cetloading").remove()},error:function(){showmsg("数据获取失败")}}),c=!1},1e3))})}s("#singIndexMod").length&&(s(".sup").click(function(){var e=s("#stake").val(),a=parseInt(s("#all_gold").text());0>e-10?t("single","不能再减了"):(s("#stake").val(parseInt(e)-10),s("#all_gold").text(a+10))}),s(".plus").click(function(){var e=s("#stake").val(),a=parseInt(s("#all_gold").text());0>a-10?t("single","金币不足"):(s("#stake").val(parseInt(e)+10),s("#all_gold").text(a-10))}),s(".sheng").click(function(){var e=(s(this).text(),s(this).attr("data-val"));s(".sheng").each(function(){var t=s(this).attr("data-val");t==e?(guess=t,s(this).addClass("cuphover")):s(this).removeClass("cuphover")})}),s(".BetThree").click(function(){var e=parseInt(s("#stake").val());if(guess<0)t("single","您还没有完成选择");else if(0>=e)t("single","请下注！");else{var n="uid="+uid+"&gid="+gid+"&guess="+guess+"&stake="+e;s.ajax({url:"handle_bet",type:"get",dataType:"json",data:n,timeout:1e4,cache:!1,beforeSend:function(e){},success:function(n,s){"undefined"!=typeof n.message&&(200==n.code&&"下注成功"==n.message?a("single",guess,e):t("single",n.message))},complete:function(e,t){},error:function(){alert("返回异常！")}})}})),s("#guess_double").length&&(s(".downsup").click(function(){var e=parseInt(s("#stake").val()),a=parseInt(s("#all_gold").text()),n=parseInt(s("#bet_gold").text());n-tengold<0?t("double","不能再减了"):(s("#stake").val(e-1),s("#bet_gold").text((e-1)*tengold),s("#all_gold").text(a+tengold))}),s(".upplus").click(function(){var e=parseInt(s("#stake").val()),a=parseInt(s("#all_gold").text());a-tengold<0?t("double","金币不足"):(s("#stake").val(e+1),s("#all_gold").text(a-tengold),s("#bet_gold").text((e+1)*tengold))}),s(".sheng").click(function(){var e=s(this).attr("data-val");s(this).parents("ul").find(".sheng").each(function(){var t=s(this).attr("data-val");t==e?s(this).addClass("active"):s(this).removeClass("active")})}),s("#betAnte").click(function(){var e=parseInt(s("#stake").val()),a=new Array,i=0;if(s(".gd-list").find("a.sheng").each(function(){s(this).hasClass("active")&&(a[i]=s(this).attr("data-val"),i++)}),a.length<matchNum)t("double","您还没有完成选择");else if(0>=e)t("double","请下注哦");else{var l=a.join(),d="uid="+uid+"&gid="+gid+"&guess="+l+"&stake="+e;s.ajax({url:"handle_bet",type:"get",dataType:"json",data:d,timeout:1e4,cache:!1,beforeSend:function(e){},success:function(e,a){"undefined"!=typeof e.message&&(200==e.code&&"下注成功"==e.message?n("double"):t("double",e.message))},complete:function(e,t){},error:function(){t("double","返回异常")}})}}))});