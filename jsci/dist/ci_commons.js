function showmsg(e,i,o){o=o||2e3,e=e||"操作成功";var t="";if(!i)var n=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight;var s=document.body.clientWidth||window.innerWidth;$("#toptip").length?$("#toptip").fadeOut("fast").html(e):$(document.body).prepend('<div id="jsapend" style="position:relative;"><div id="toptip" style="position: absolute; font-size: 18px; color: #fff;  font-family: Microsoft YaHei;  text-align: center; border-radius: 5px; line-height: 50px; padding: 0 30px 0 30px; min-height: 50px;background: rgba(0,0,0,0.5);z-index: 999999;">'+e+"</div></div>"),i?i.left?i.left=i.left-$("#toptip").outerWidth(!0)/2:i.left=s/2-$("#toptip").outerWidth(!0)/2:i={top:document.body.scrollTop+n/2,left:s/2-$("#toptip").outerWidth(!0)/2},$("#toptip").css(i).stop().fadeIn("normal",function(){t&&clearTimeout(t),t=setTimeout(function(){$("#toptip").fadeOut()},o)})}function back_home(){/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?window.location.href="ios://NativeBack":/(Android)/i.test(navigator.userAgent)?window.Android.NativeBack():history.go(-1)}function nofindPic(){var e=event.srcElement;e.src=cid_url+"/static/images/nopic.png",e.onerror=null}function muzzledid(e,i,o){var t=cid_url+"/fansclub/member/blacklist_add?fid="+i+"&vuid="+o;$.ajax({type:"GET",url:t,dataType:"json",success:function(i){i?401===i.code?isIOS?(showmsg(i.message,"",1e3),setTimeout(function(){window.location.href="ios://NativeLogin"},1500)):isAndroid?(showmsg(i.message,"",1e3),setTimeout(function(){window.Android.NativeLogin()},1500)):showmsg(i.message,"",1e3):404===i.code?showmsg(i.message,"",1e3):402===i.code?showmsg(i.message,"",1e3):405===i.code?showmsg(i.message,"",1e3):406===i.code?showmsg(i.message,"",1e3):200===i.code?(showmsg(i.message,"",1e3),setTimeout(function(){window.location.reload()},1500)):showmsg("请稍后再试"):showmsg("数据有误"),setTimeout(function(){hideWindow(e)},1500)},error:function(){showmsg("出错了，请稍后再试")}})}function reportsid(e,i,o,t,n,s){var a=escape(t),d=cid_url+"/api/misc/report?fid="+i+"&tid="+o+"&author="+a+"&authorid="+n+"&pid="+s+"&type=reply";$.ajax({type:"GET",url:d,dataType:"json",success:function(e){e?404===e.code?(showmsg(e.message,"",1e3),window.location.reload()):200===e.code?(showmsg(e.message,"",1e3),window.location.reload()):showmsg("请稍候再试"):showmsg("数据有误")},error:function(){showmsg("出错了，请稍后再试")}})}function deletoid(e,i,o,t,n){var s=cid_url+"/api/feed_manage/delete?fid="+n+"&pid="+i+"&tid="+o+"&authorid="+t+"&type=reply";$.ajax({type:"GET",url:s,dataType:"json",success:function(i){i?401===i.code?isIOS?(showmsg(i.message,"",1e3),setTimeout(function(){window.location.href="ios://NativeLogin"},1500)):isAndroid?(showmsg(i.message,"",1e3),setTimeout(function(){window.Android.NativeLogin()},1500)):showmsg(i.message,"",1e3):404===i.code?showmsg(i.message,"",1e3):402===i.code?showmsg(i.message,"",1e3):200===i.code?(showmsg(i.message,"",1e3),setTimeout(function(){window.location.reload()},1500)):showmsg("请稍后再试"):showmsg("数据有误"),setTimeout(function(){hideWindow(e)},1500)},error:function(){showmsg("出错了，请稍后再试")}})}function hideWindow(e){document.getElementById("fwin_"+e)&&document.getElementById("append_parent").removeChild(document.getElementById("fwin_"+e))}function showWindow(e,i,o,t,n,s){var a=escape(s),d="fwin_"+e,r=document.getElementById(d);r=document.createElement("div"),r.id=d,r.className="ux_popmenu",document.getElementById("append_parent").appendChild(r),evtspan=" onclick=\"hideWindow('"+e+"')\"";var c='<div class="content_onlay" id="fwin_content_'+e+'"><ul class="pop_ulCOp">';c+='<li><a href="'+cid_url+"/api/post/newreply?fid="+n+"&tid="+o+"&parentid="+i+"&rename="+a+'&submitreply=0">回复</a></li>',c+="<li><a href=\"javascript:deletoid('"+e+"',"+i+","+o+","+t+","+n+');">删除</a></li>',c+="<li><a href=\"javascript:muzzledid('"+e+"',"+n+","+t+');">禁言</a></li>',c+="<li><a href=\"javascript:reportsid('"+e+"',"+n+","+o+",'"+s+"',"+t+","+i+');">举报</a></li>',c+='<li class="li_cancel"><a href="javascript:void(0)"'+evtspan+' class="nav_hide">取消</a></li>',c+="</ul></div>",c+='<div style="width: 100%; height: 100%; position: fixed; z-index: 105; top: 0px; left: 0px; overflow: hidden; background:rgba(0,0,0,.45);"'+evtspan+"></div>",r.innerHTML=c}function showOrdinary(e,i,o,t,n,s){var a=escape(s),d="fwin_"+e,r=document.getElementById(d);r=document.createElement("div"),r.id=d,r.className="ux_popmenu",document.getElementById("append_parent").appendChild(r),evtspan=" onclick=\"hideWindow('"+e+"')\"";var c='<div class="content_onlay" id="fwin_content_'+e+'"><ul class="pop_ulCOp">';c+='<li><a href="'+cid_url+"/api/post/newreply?fid="+n+"&tid="+o+"&parentid="+i+"&rename="+a+'&submitreply=0">回复</a></li>',c+="<li><a href=\"javascript:reportsid('"+e+"',"+n+","+o+",'"+s+"',"+t+","+i+');">举报</a></li>',c+='<li class="li_cancel"><a href="javascript:void(0)"'+evtspan+' class="nav_hide">取消</a></li>',c+="</ul></div>",c+='<div style="width: 100%; height: 100%; position: fixed; z-index: 105; top: 0px; left: 0px; overflow: hidden; background:rgba(0,0,0,.45);"'+evtspan+"></div>",r.innerHTML=c}function showReports(e,i,o,t,n,s){var a=(escape(s),"fwin_"+e),d=document.getElementById(a);d=document.createElement("div"),d.id=a,d.className="ux_popmenu",document.getElementById("append_parent").appendChild(d),evtspan=" onclick=\"hideWindow('"+e+"')\"";var r='<div class="content_onlay" id="fwin_content_'+e+'"><ul class="pop_ulCOp">';r+="<li><a href=\"javascript:reportsid('"+e+"',"+n+","+o+",'"+s+"',"+t+","+i+');">举报</a></li>',r+='<li class="li_cancel"><a href="javascript:void(0)"'+evtspan+' class="nav_hide">取消</a></li>',r+="</ul></div>",r+='<div style="width: 100%; height: 100%; position: fixed; z-index: 105; top: 0px; left: 0px; overflow: hidden; background:rgba(0,0,0,.45);"'+evtspan+"></div>",d.innerHTML=r}function avatarBack(e){if(""===e)return!1;if(isIOS)window.location.href="ios://NativeOtherMemberInfo/"+e;else{if(!/(Android)/i.test(navigator.userAgent))return!1;window.Android.NativeOtherMemberInfo(e)}}function diceroll(e,i){e.attr("class","dice"),e.animate({left:"0px"},10,function(){e.addClass("dice_1")}).delay(100).animate({top:"0"},400,function(){e.removeClass("dice_1").addClass("dice_2")}).delay(100).animate({opacity:"show"},400,function(){e.removeClass("dice_2").addClass("dice_3")}).delay(100).animate({left:"0",top:"0"},400,function(){e.removeClass("dice_3").addClass("dice_"+i),e.css("cursor","pointer")})}var isIOS=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent),isAndroid=/(Android)/i.test(navigator.userAgent),isweiXin=-1!=navigator.userAgent.toLowerCase().indexOf("micromessenger"),base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),shellmodule={login:function(e){isIOS?(showmsg(e,"",1e3),setTimeout(function(){window.location.href="ios://NativeLogin"},1500)):isAndroid?(showmsg(e,"",1e3),setTimeout(function(){try{window.Android.NativeLogin()}catch(e){console.log(e),showmsg("此版本不支持，请安装最新版本","",2e3)}},1500)):showmsg(e)},showtopic:function(e){if(isIOS)window.location.href="ios://NativeShowTopic/"+e;else{if(!isAndroid)return!1;try{window.Android.NativeShowTopic(e)}catch(i){console.log(i),showmsg("此版本不支持，请安装最新版本","",2e3)}}},ShareLottery:function(e){if(isIOS)window.location.href="ios://NativeShareLottery/"+e;else{if(!isAndroid)return!1;try{window.Android.NativeShareLottery(e)}catch(i){console.log(i),showmsg("此版本不支持，请安装最新版本","",2e3)}}},LoadTitle:function(e){if(isIOS)window.location.href="ios://NativeTitle/"+e;else{if(!isAndroid)return!1;window.Android.NativeTitle(e)}},ShowFansClub:function(e){if(isIOS)window.location.href="ios://NativeShowFansClub/"+e;else{if(!isAndroid)return!1;try{window.Android.NativeShowFansClub(e)}catch(i){console.log(i),showmsg("此版本不支持，请安装最新版本","",2e3)}}},Base64Encode:function(e){var i,o,t,n,s,a;for(t=e.length,o=0,i="";t>o;){if(n=255&e.charCodeAt(o++),o==t){i+=base64EncodeChars.charAt(n>>2),i+=base64EncodeChars.charAt((3&n)<<4),i+="==";break}if(s=e.charCodeAt(o++),o==t){i+=base64EncodeChars.charAt(n>>2),i+=base64EncodeChars.charAt((3&n)<<4|(240&s)>>4),i+=base64EncodeChars.charAt((15&s)<<2),i+="=";break}a=e.charCodeAt(o++),i+=base64EncodeChars.charAt(n>>2),i+=base64EncodeChars.charAt((3&n)<<4|(240&s)>>4),i+=base64EncodeChars.charAt((15&s)<<2|(192&a)>>6),i+=base64EncodeChars.charAt(63&a)}return i},Utf8Tosix:function(e){var i,o,t,n;for(i="",t=e.length,o=0;t>o;o++)n=e.charCodeAt(o),n>=1&&127>=n?i+=e.charAt(o):n>2047?(i+=String.fromCharCode(224|n>>12&15),i+=String.fromCharCode(128|n>>6&63),i+=String.fromCharCode(128|n>>0&63)):(i+=String.fromCharCode(192|n>>6&31),i+=String.fromCharCode(128|n>>0&63));return i},ShareModule:function(e,i,o,t,n){var s=this.Base64Encode(this.Utf8Tosix(e))||"",a=this.Base64Encode(this.Utf8Tosix(i))||"",d=this.Base64Encode(o)||"",r=this.Base64Encode(t)||"",c=n||"",l=encodeURIComponent(e)||"",h=encodeURIComponent(i)||"",u=encodeURIComponent(o)||"",p=encodeURIComponent(t)||"";if(isIOS)window.location.href="ios://NativeShare/"+l+"/"+h+"/"+u+"/"+p+"/"+c;else{if(!isAndroid)return!1;try{window.Android.NativeShare(s,a,d,r,c)}catch(f){console.log(f),showmsg("此版本不支持，请安装最新版本","",2e3)}}},ShowReply:function(e,i,o,t){var n=this.Base64Encode(this.Utf8Tosix(i));if(hideWindow(t),isIOS)window.location.href="ios://NativeReply/"+e+"/"+n+"/"+o;else{if(!isAndroid)return!1;try{window.Android.NativeReply(e,n,o)}catch(s){console.log(s),showmsg("此版本不支持，请安装最新版本","",2e3)}}}},actpassNow=function(e,i){if(/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent))window.location.href="ios://NativeUnauditedActivityMembers/"+e+"/"+i;else{if(!isAndroid)return!1;window.Android.NativeUnauditedActivityMembers(e,i)}};